
<ion-view cache-view="false" view-title="SRI LALITHA ENTERPRISES" ng-init="init();">
  <ion-content ng-init="init();">

      <div class="card" ng-show="{{isAgent}}" ng-cloak style="margin-top: 8%;height:8%">
          <div class="row">
              <div class="col-80 wrapWord" ng-show="shopDetail.name" style="padding-top: 10px;text-align: left;">
                  {{shopDetail.name}}
              </div>
              <div class="col" style="padding: 0" >

                      <button class="button button-positive"  ng-click="showShopPopUp();" style="min-height: 0px;">
                        Change
                      </button>

              </div>
          </div>
      </div>

    <div class="button-bar padding" style="margin-top: 10%">
        <a class="button bgdarkGray" ng-repeat="tab in tabArray" id="{{tab}}tab" ng-click="changeContent(tab)">{{tab.toUpperCase()}}</a>
    </div>
    <div class="card" ng-repeat = "(key, value) in getSelectedItemArray()" style="min-height:135px;height:auto;background-color:lightgray;position:relative;">
        <div class = "row" style="height:100%;">
            <div class = "col col-20" style="height:100%;">
              <img ng-src="{{getImageUrl(key,selectedItem)}}" id="{{key}}image" style="height:100%;max-height:120px;max-width: 100%;"/>
            </div>
            <div class = "col col-40" >
              <div class="row text-left" style="padding:0;">
                  <p style="text-align: left;padding:0;" id="{{key}}name">
                      <b>{{value.name.toUpperCase()}}</b>
                  </p>
              </div>
              <div class="row text-left" style="padding:0;">
                <p style="font-style: italic;padding:0;margin-top: 3px;font-weight:200">
                    Master Weight: {{value.master_weight}}
                </p>
              </div>
              <div class="row text-left" style="padding:0;">
                    <p id="{{key}}price" style="text-align:left;width:100%;padding-top: 3%;font-weight: 900;">₹​ {{getPrice(key)}}</p>
              </div>

            </div>
            <div class="col" style="height:50px;padding:0px;">
              <div class="row" >
                  <span>Quintals</span>
              </div>
                  <div class="row">
                <input type="number" id="{{key}}quantity" ng-keyup="textInQuantity(key,this.value.master_weight);"
                       style="text-align: center;width:50%;border-bottom:1px solid black;background-color: whitesmoke" placeholder="Quintals"/>
                  </div>
              <div class="row" style="margin-top: 2%">
                <span>Bags</span>
              </div>
            <div class="row">
                <input type="number" id="{{key}}bag" ng-keyup="textInBag(key,this.value.master_weight);" placeholder="Bags"
                       style="text-align: center;width:50%;border-bottom:1px solid black;background-color: whitesmoke" ng-keyup="textInBag(key,this.value.master_weight);"/>
              </div>
            </div>
<div class="col-10">
    <div class="row">
         <button class="button icon ion-plus-round" id="{{key}}button" ng-click="addToCart(key,value)"
              style="position:absolute;right:0px;top:0px;height:50px;width:50px;border-radius:25px;background-color:darkgray;">
            </button>
    </div>
    <div class="row">
            <p style="font-weight: 900;padding-top:10px;padding-right:10px;position:absolute;bottom:0px;right:0px;height:50px;" id="{{key}}computedPrice"></p>
    </div>



</div>

        </div>
    </div>
  </ion-content>

    <ion-footer-bar align-title="center">
        <div class="button-bar">
            <button class="button  button-positive" ng-click="proceedToSaveInCart()" style="margin:0;"><b style="font-size: large">CONTINUE</b></button>
        </div>
    </ion-footer-bar>
</ion-view>
