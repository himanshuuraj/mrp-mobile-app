<ion-view view-title="SRI LALITHA ENTERPRISES" ng-init="init();">
  <ion-content>
      
      <div class="card" ng-show="isAgent" ng-cloak style="margin-top: 20px;">
          <div class="row">
              <div class="col" ng-show="shopDetail.name" style="padding-top: 10px;text-align: center;">
                  {{shopDetail.name}}/{{shopDetail.tin}}
              </div>
              <div class="col" >
                 
                      <button class="button button-positive" style="float:right" ng-click="showShopPopUp();">
                        Select Shop
                      </button>
                  
              </div>
          </div>
          
<!--          <div class="row" ng-repeat="shop in shopArray" ng-click="getShopItem(shop)">
              {{shop.name}}
          </div>  -->
      </div>
      <div class="card" ng-show="!isAgent">
          Shop Name :- {{shopDetail.name}}
          Tin Number :- {{shopDetail.tin}}
      </div>
      
    <div class="button-bar padding">
      <a class="button bgdarkGray" ng-repeat="tab in tabArray" id="{{tab}}tab" ng-click="changeContent(tab)">{{tab.toUpperCase()}}</a>
    </div>
    <div class="card" ng-repeat = "(key, value) in getSelectedItemArray()"  style="height:135px;background-color:lightgray;position:relative;">
        <div class = "row" style="height:100%;">
            <div class = "col col-20" style="height:100%;">
              <img ng-src="{{getImageUrl(key,selectedItem)}}" id="{{key}}image" style="height:100%;max-width: 100%;"/>
            </div>
            <div class = "col" >
              <div class="row text-left" style="padding:0;">
                  <p style="text-align: left;padding:0;" id="{{key}}name">
                      <b>{{value.name.toUpperCase()}}</b>
                  </p>
              </div>
              <div class="row text-left" style="padding:0;">
                <p style="font-style: italic;padding:0;margin-top: 3px">
                    Master Weight: {{value.master_weight}}
                </p>
              </div>
              <div class="row text-left" style="padding:0;">
                    <p id="{{key}}price" style="text-align:left;width:100%;padding-top: 3%">
                        &#8377;1250</p>
              </div>
                  
            </div>
            <div class="col" style="height:50px;padding:0px;margin-top: 10px;margin-left: ">
              <div class="row" style="position:relative;background-color: lightgray;">
                  <span>Quintals</span>
                <input type="number" id="{{key}}quantity" ng-keyup="textInQuantity(key,this.value.master_weight);" 
                       style="text-align:center;width:100%;border-bottom:1px solid black;margin-left: 10px;margin-top: -12px;background-color: lightgray" placeholder="Quintals"/>
  <!--                <div style="position:absolute;display:block;left:0;top:0;width:20%;height:100%;font-size:40px;" ng-click="addQuantity(key,this.value.master_weight);">
                      <i class="icon ion-plus-circled"></i>
                  </div>
                  <div style="position:absolute;display:block;right:0;top:0;width:20%;height:100%;font-size:40px;" ng-click="minusQuantity(key,this.value.master_weight);">
                      <i class="icon ion-minus-circled" style="float:right;"></i>
                  </div>-->
              </div>
              <div class="row" style="position:relative;background-color: lightgray;margin-top: 15%">
                <span>Bags</span>
                <input type="number" id="{{key}}bag" ng-keyup="textInBag(key,this.value.master_weight);" placeholder="Bags"
                       style="text-align:center;width:100%;margin-left: 35px;margin-top: -12px;border-bottom:1px solid black;background-color: lightgray" ng-keyup="textInBag(key,this.value.master_weight);"/>
  <!--                <div style="position:absolute;display:block;left:0;top:0;width:20%;height:100%;font-size:40px;" ng-click="addBag(key,this.value.master_weight);">
                      <i class="icon ion-plus-circled"></i>
                  </div>
                  <div style="position:absolute;display:block;right:0;top:0;width:20%;height:100%;font-size:40px;" ng-click="minusBag(key,this.value.master_weight);">
                      <i class="icon ion-minus-circled" style="float:right;"></i>
                  </div>-->
              </div>
            </div>
            <button class="button icon ion-plus-round" id="{{key}}button" ng-click="addToCart(key,value)"
              style="position:absolute;right:0px;top:0px;height:50px;width:50px;border-radius:25px;background-color:darkgray;">
            </button>
        </div>
    </div> 

  </ion-content>
     
    <ion-footer-bar align-title="center">
        <div class="button-bar">
            <button class="button  button-positive" ng-click="proceedToSaveInCart()" style="margin:0;"><b style="font-size: large">CONTINUE</b></button>
        </div>
    </ion-footer-bar>
</ion-view>
