<ion-view view-title="Lalitha" ng-init="init();">
  <ion-content>
      
      <div class="card" ng-show="!isAgent" ng-cloak>
          Select Shop<br>
          <div class="row" ng-repeat="shop in shopArray" ng-click="getShopItem(shop)">
              {{shop.name}}
          </div>
      </div>
      <div class="card" ng-show="isAgent">
          Shop Name :- {{shopDetail.name}}
          Tin Number :- {{shopDetail.tin}}
      </div>
      
    <div class="button-bar padding">
      <a class="button button-positive" ng-repeat="tab in tabArray" id="{{tab}}tab" ng-click="changeContent(tab)">{{tab}}</a>
    </div>
    <div class="card" ng-repeat = "(key, value) in getSelectedItemArray()"  style="height:130px;background-color:lightgray;position:relative;">
      <div class = "row" style="height:100%;">
        <div class = "col col-20" style="height:100%;">
          <img ng-src="{{getImageUrl(key,selectedItem)}}" style="height:100%;"/>
        </div>
        <div class = "col">
          <div class="row" style="padding:0;">
            <div class="col" style="padding:0;">
              <div class="text-center" style="padding:0;">
                <h5 style="text-align: center;padding:0;" id="{{key}}name"><b>{{value.name}}</b>
                </h5>
                  <h5>
                      <b>MasterWeight {{value.master_weight}}</b>
                    </h5>
              </div>
            </div>
          </div>
          <div class="row" style="height:50px;padding:0px;margin-top: 10px;">
            <div class="col col-33" style="position:relative;background-color: lightgray;">
              <input type="number" id="{{key}}quantity" ng-keyup="textInQuantity(key,this.value.master_weight);" 
                     style="text-align:center;width:100%;background-color: lightgray;border-bottom:1px solid black;" placeholder="quantity"/>
                <div style="position:absolute;display:block;left:0;top:0;width:20%;height:100%;font-size:40px;" ng-click="addQuantity(key,this.value.master_weight);">
                    <i class="icon ion-plus-circled"></i>
                </div>
                <div style="position:absolute;display:block;right:0;top:0;width:20%;height:100%;font-size:40px;" ng-click="minusQuantity(key,this.value.master_weight);">
                    <i class="icon ion-minus-circled" style="float:right;"></i>
                </div>
            </div>
            <div class="col col-33" style="position:relative;background-color: lightgray;margin-left: 5%;">
              <input type="number" id="{{key}}bag" ng-keyup="textInBag(key,this.value.master_weight);" placeholder="bags"
                     style="text-align:center;width:100%;background-color: lightgray;border-bottom:1px solid black;" ng-keyup="textInBag(key,this.value.master_weight);"/>
                <div style="position:absolute;display:block;left:0;top:0;width:20%;height:100%;font-size:40px;" ng-click="addBag(key,this.value.master_weight);">
                    <i class="icon ion-plus-circled"></i>
                </div>
                <div style="position:absolute;display:block;right:0;top:0;width:20%;height:100%;font-size:40px;" ng-click="minusBag(key,this.value.master_weight);">
                    <i class="icon ion-minus-circled" style="float:right;"></i>
                </div>
            </div>
            <div class="col col-33">
              <p id="{{key}}price" style="text-align:center;width:100%;">&#8377;{{getPrice(key)}}</p>
            </div>
          </div>
        </div>
      </div>
      <button class="button icon ion-checkmark-round" id="{{key}}button" ng-click="addToCart(key,value)"
              style="position:absolute;right:0px;top:0px;height:50px;width:50px;border-radius:25px;background-color:white;">

      </button>
    </div>

<!--    <div class="card" ng-show="selectedItem == 'ravva'" ng-repeat = "(key, value) in ravvaArray" style="height:130px;background-color:lightgray;position:relative;">
      <div class = "row" style="height:100%;">
        <div class = "col col-33" style="height:100%;">
          <img src="img/image.jpg" style="height:100%;width:100%;"/>
        </div>
        <div class = "col">
          <div class="row" style="padding:0;">
            <div class="col" style="padding:0;">
              <div class="text-center" style="padding:0;">
                <h5 style="text-align: center;"><b>{{value.name}}</b>
                  <br>
                  {{value.master_weight}}
                </h5>
              </div>
            </div>
          </div>
          <div class="row" style="padding:0;">
            <div class="col col-33" style="text-align:center;">Quantity</div>
            <div class="col col-33" style="text-align:center;">Bag</div>
            <div class="col col-33" style="text-align:center;">Amount</div>
          </div>
          <div class="row" style="height:40px;padding:0px;">

            <div class="col col-33">
              <input type="text" style="text-align:center;width:100%;" placeholder="quantity"/>
            </div>
            <div class="col col-33">
              <input type="text" style="text-align:center;width:100%;" placeholder="bags"/>
            </div>
            <div class="col col-33">
              <input type="text" style="text-align:center;width:100%;" placeholder="price"/>
            </div>
          </div>
        </div>
      </div>
      <button class="button icon ion-checkmark-round"
              style="position:absolute;right:0px;top:0px;height:50px;width:50px;border-radius:25px;">

      </button>
    </div>-->

<!--    <div class="card" ng-show="selectedItem == 'broken'" ng-repeat = "(key, value) in brokenArray" style="height:130px;background-color:lightgray;position:relative;">
      <div class = "row" style="height:100%;">
        <div class = "col col-33" style="height:100%;">
          <img ng-src="{{getImageUrl(key)}}" style="height:100%;width:100%;"/>
        </div>
        <div class = "col">
          <div class="row" style="padding:0;">
            <div class="col" style="padding:0;">
              <div class="text-center" style="padding:0;">
                <h5 style="text-align: center;"><b>{{value.name}}</b>
                  <br>
                  {{value.master_weight}}
                </h5>
              </div>
            </div>
          </div>
          <div class="row" style="padding:0;">
            <div class="col col-33" style="text-align:center;">Quantity</div>
            <div class="col col-33" style="text-align:center;">Bag</div>
            <div class="col col-33" style="text-align:center;">Amount</div>
          </div>
          <div class="row" style="height:40px;padding:0px;">

            <div class="col col-33">
                <input type="text" id="{{key}}quantity" style="text-align:center;width:100%;" 
                       ng-keydown="textInQuantity(this);" placeholder="quantity"/>
            </div>
            <div class="col col-33">
              <input type="text" id="{{key}}bags" style="text-align:center;width:100%;"
                     ng-keydown="textInBag(this);" placeholder="bags"/>
            </div>
            <div class="col col-33">
                <p id="{{key}}price" style="text-align:center;width:100%;"></p>
            </div>
          </div>
        </div>
      </div>
      <button class="button icon ion-checkmark-round"
              style="position:absolute;right:0px;top:0px;height:50px;width:50px;border-radius:25px;">

      </button>
    </div>-->
      

  </ion-content>
    <ion-footer-bar align-title="center" class="bar-assertive">
        <button ng-click="proceedToSaveInCart()"><a href="#/app/cart">Proceed</a></button>
    </ion-footer-bar>
</ion-view>
